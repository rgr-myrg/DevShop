/* pattern-js v1.1.0 Tue Dec 08 2015 13:05:22 GMT-0500 (EST) */!function(n){n.Pattern=n.Pattern||{}}(window),function(n){var r=function(n){return"function"==typeof n},e=function(n){return"object"==typeof n},t=function(n){r(n.init)&&n.init()},u=function(n){return e(n)?n:{}},o=function(n,r,e){!function(){n.apply(r,arguments)}(e)},i=function(n,e){for(var t=0,u=n.length;u>t;t++)if(n[t]===e){n.splice(t,1),r(e.onRemove)&&e.onRemove();break}return n};n.EventSignal=function(){var n=[];return{addListener:function(e){return r(e)&&n.push(e),n},removeListener:function(r){return n=i(n,r)},dispatch:function(){for(var e=[],t=n.length,u=0;t>u;u++){var o=n[u];r(o)?o.apply(this,arguments):e.push(u)}}}},n.Notifier=function(n){var e=[],o=u(n);return o.addReceiver=function(n){return r(n.notify)&&e.push(n),e},o.removeReceiver=function(n){return e=i(e,n)},o.notify=function(n,r){for(var t=0,u=e.length;u>t;t++)e[t].notify(n,r);return n},t(o),o},n.Receiver=function(n){var e={},i={},f=function(n,e,t){return!n[e]&&r(t)&&(n[e]=t),n},c=u(n);return c.on=function(n,r){return e=f(e,n,r)},c.once=function(n,r){return i=f(i,n,r)},c.notify=function(n,t){return r(i[n])&&(o(i[n],c,t),delete i[n]),r(e[n])&&o(e[n],c,t),n},t(c),c},n.Observable=function(n){var o=[],f=u(n);return f.addObserver=function(n){return e(n)&&r(n.onUpdate)?(n._observable=f,o.push(n),r(n.onRegister)&&n.onRegister(),o):n},f.removeObserver=function(n){return o=i(o,n)},f.notifyObservers=function(n,r){for(var e=0,t=o.length;t>e;e++)o[e].onUpdate(n,r)},t(f),f},n.Observer=function(n){var e=u(n);return e.onUpdate=function(n,t){return r(e[n])&&o(e[n],e,t),n},t(e),e},n.Publisher=function(n){var f=[],c=u(n);return c.registerSubscriber=function(n){return e(n)&&f.push(n),f},c.removeSubscriber=function(n){return f=i(f,n)},c.notify=function(n,e){for(var t=0,u=f.length;u>t;t++){var i=f[t];r(i[n])&&o(i[n],i,e)}return n},t(c),c},n.version="1.1.0"}(Pattern);