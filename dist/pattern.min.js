/* pattern-js v1.1.0 Tue Dec 08 2015 00:44:46 GMT-0500 (EST) */!function(n){n.Pattern=n.Pattern||{}}(window),function(n){var e=!0,t=!1,r=null,u=function(){},o=function(n){return"function"==typeof n},i=function(n){return"object"==typeof n},f=function(n){return"number"==typeof n},a=function(n){o(n.init)&&n.init()},c=function(n){return i(n)?n:{}},s=function(n,e,t){!function(){n.apply(e,arguments)}(t)},v=function(n,e){for(var t=0,r=n.length;r>t;t++)if(n[t]===e){n.splice(t,1),o(e.onRemove)&&e.onRemove();break}return n};n.EventSignal=function(){var n=[];return{addListener:function(e){return o(e)&&n.push(e),n},removeListener:function(e){return n=v(n,e)},dispatch:function(){for(var e=[],t=n.length,r=0;t>r;r++){var u=n[r];o(u)?u.apply(this,arguments):e.push(r)}}}},n.Observable=function(n){var e=[],t=c(n);return t.addObserver=function(n){return i(n)&&o(n.onUpdate)?(n._observable=t,e.push(n),o(n.onRegister)&&n.onRegister(),e):n},t.removeObserver=function(n){return e=v(e,n)},t.notifyObservers=function(n,t){for(var r=0,u=e.length;u>r;r++)e[r].onUpdate(n,t)},a(t),t},n.Observer=function(n){var e=c(n);return e.onUpdate=function(n,t){return o(e[n])&&s(e[n],e,t),n},a(e),e},n.Publisher=function(n){var e=[],t=c(n);return t.registerSubscriber=function(n){return i(n)&&e.push(n),e},t.removeSubscriber=function(n){return e=v(e,n)},t.notify=function(n,t){for(var r=0,u=e.length;u>r;r++){var i=e[r];o(i[n])&&s(i[n],i,t)}return n},a(t),t},n.Queue=function(n){var a=t,c=r,s=u,v=-1,l=[];return n!==r&&i(n)&&i(n.delegate)&&o(n.delegate.onQueueItem)?(c=n.delegate,o(c.onQueueError)&&(s=c.onQueueError),f(c.maxCount)&&c.maxCount>0&&(v=c.maxCount),{add:function(){return v>0&&l.length>=v?(s(new Error("maxCount exceeded: "+l.length)),r):(l.push(arguments),l)},addPriority:function(){return v>0&&l.length>=v?(s(new Error("maxCount exceeded: "+l.length)),r):(l.unshift(arguments),l)},start:function(){return a||(a=e,this.run()),a},run:function(){for(;a;)l.length>0?c.onQueueItem.apply(c,l.shift()):this.stop();return l},stop:function(){return a=t},isRunning:function(){return a},count:function(){return l.length},clear:function(){return this.stop(),l=[]}}):r},n.version="1.1.0"}(Pattern);