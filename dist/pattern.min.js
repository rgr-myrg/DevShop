/* pattern-js v1.1.0 Tue Dec 08 2015 00:02:56 GMT-0500 (EST) */!function(n){n.Pattern=n.Pattern||{}}(window),function(n){var e=!0,r=!1,t=null,u=function(){},o=function(n){return"function"==typeof n},i=function(n){return"object"==typeof n},a=function(n){return"number"==typeof n},f=function(n){o(n.init)&&n.init()},c=function(n){return i(n)?n:{}},s=function(n,e,r){!function(){n.apply(e,arguments)}(r)};n.EventSignal=function(){var n=[];return{addListener:function(e){return o(e)&&n.push(e),n},removeListener:function(e){for(var r=n.length,t=0;r>t;t++)n[t]===e&&(n[t]=null);return n},dispatch:function(){for(var e=[],r=n.length,t=0;r>t;t++){var u=n[t];o(u)?u.apply(this,arguments):e.push(t)}for(r=e.length,t=0;r>t;t++)n.splice(t,1)}}},n.Observable=function(n){var e=[],r=c(n);return r.addObserver=function(n){return i(n)&&o(n.onUpdate)?(n._observable=r,e.push(n),o(n.onRegister)&&n.onRegister(),e):n},r.removeObserver=function(n){for(var r=0,t=e.length;t>r;r++)if(e[r]===n){e.splice(r,1),o(n.onRemove)&&n.onRemove();break}return e},r.notifyObservers=function(){for(var n=0,r=e.length;r>n;n++){var t=e[n];t.onUpdate.apply(t,arguments)}},f(r),r},n.Observer=function(n){var e=c(n);return e.onUpdate=function(){var r=arguments[0];return o(n[r.eventName])&&s(n[r.eventName],e,r.eventData),r},f(e),e},n.Publisher=function(n){var e=[],r=c(n);return r.registerSubscriber=function(n){return i(n)&&e.push(n),e},r.removeSubscriber=function(n){for(var r=0,t=e.length;t>r;r++)if(e[r]===n){e.splice(r,1);break}return e},r.notify=function(n,r){for(var t=0,u=e.length;u>t;t++){var i=e[t];o(i[n])&&s(i[n],i,r)}return n},f(r),r},n.Queue=function(n){var f=r,c=t,s=u,l=-1,v=[];return n!==t&&i(n)&&i(n.delegate)&&o(n.delegate.onQueueItem)?(c=n.delegate,o(c.onQueueError)&&(s=c.onQueueError),a(c.maxCount)&&c.maxCount>0&&(l=c.maxCount),{add:function(){return l>0&&v.length>=l?(s(new Error("maxCount exceeded: "+v.length)),t):(v.push(arguments),v)},addPriority:function(){return l>0&&v.length>=l?(s(new Error("maxCount exceeded: "+v.length)),t):(v.unshift(arguments),v)},start:function(){return f||(f=e,this.run()),f},run:function(){for(;f;)v.length>0?c.onQueueItem.apply(c,v.shift()):this.stop();return v},stop:function(){return f=r},isRunning:function(){return f},count:function(){return v.length},clear:function(){return this.stop(),v=[]}}):t},n.version="1.1.0"}(Pattern);