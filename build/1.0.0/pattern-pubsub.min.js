/**
 * Copyright (c) 2011-2014 Activity, LLC.
 * Version: 1.0.0
 * Built: Fri Aug 08 2014 00:37:38 GMT-0400 (EDT)
 * Released under the MIT license:
 * https://github.com/rgr-myrg/pattern-js/raw/master/MIT-LICENSE
 */
(function(w){w.Pattern=w.Pattern||{};})(window);!function(t){t.Queue=function(t){var n=null,e=null,o=!1,i=function(){},r=function(){},c=300,u=-1,f=[];if("object"!=typeof t||!t.id)throw new Error("Queue options Object is Null");return n=t.id,!isNaN(t.timeToWait)&&t.timeToWait>0&&(c=t.timeToWait),!isNaN(t.maxCount)&&t.maxCount>0&&(u=t.maxCount),"function"==typeof t.callback&&(i=t.callback),"function"==typeof t.onError&&(r=t.onError),{add:function(){return u>0&&f.length>=u?(r(new Error("Max count exceeded: "+f.length)),!1):(f.push(arguments),!0)},start:function(){if(!o)try{e=setInterval(n+".run()",c)}catch(t){r(t)}},run:function(){if(f.length>0){o=!0;try{i.apply(this,f.shift())}catch(t){this.stop(),r(t)}}else this.stop()},stop:function(){o=!1,clearInterval(e)},isRunning:function(){return o},count:function(){return f.length},clear:function(){this.stop(),f=[]}}}}(Pattern),function(t){t.ObjectFactory=function(t){if("object"!=typeof t)throw"Object not provided";var n=function(t){if("function"==typeof t)try{return new t}catch(n){}else if("object"==typeof t)return t},e=n(t._implements_),o=n(t._extends_),i=n(t._public_);for(var r in o)o.hasOwnProperty(r)&&!i[r]&&(i[r]=o[r]);for(r in e)if(e.hasOwnProperty(r)&&!i[r])throw object.instance+" must implement '"+r+"' "+typeof e[r];if("function"==typeof i.init)try{i.init()}catch(c){}return i}}(Pattern),function(t){t.EventSignal=function(){var t=[];return{addListener:function(n){"function"==typeof n&&t.push(n)},removeListener:function(n){for(var e=t.length,o=0;e>o;o++)t[o]===n&&(t[o]=null)},dispatch:function(){for(var n=[],e=t.length,o=0;e>o;o++){var i=t[o];"function"==typeof i?i.apply(this,arguments):n.push(o)}for(e=n.length,o=0;e>o;o++)t.splice(o,1)}}}}(Pattern),function(t){t.Publisher=function(){var t={};return{registerEvents:function(n){"object"==typeof n&&(t=n)},registerSubscriber:function(n){if("function"==typeof n.onRegister){var e=n.onRegister();for(var o in e)e.hasOwnProperty(o)&&"function"==typeof e[o]&&"object"==typeof t[o]&&"function"==typeof t[o].addListener&&t[o].addListener(e[o]);n.onRegister=function(){}}},notify:function(t,n){"function"==typeof t.dispatch&&t.dispatch(n)}}}}(Pattern);